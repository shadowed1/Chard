# Chard environment configuration (in /usr/local/chard/.chard.env)

export CHARD_ROOT="/usr/local/chard"
export ROOT="$CHARD_ROOT"
export CHARD_RC="$CHARD_ROOT/.chardrc"

export PORTAGE_TMPDIR="$ROOT/var/tmp"
export DISTDIR="$ROOT/var/cache/distfiles"
export PKGDIR="$ROOT/var/cache/packages"
export PORTDIR="$ROOT/usr/portage"

case ":$PATH:" in
  *":$CHARD_ROOT/usr/bin:"*|*":$CHARD_ROOT/bin:"*) : ;; # already present
  *) export PATH="$CHARD_ROOT/usr/bin:$CHARD_ROOT/bin:$PATH" ;;
esac

CHARD_LD_PATH="$ROOT/usr/lib"
[ -d "$ROOT/usr/lib64" ] && CHARD_LD_PATH="$CHARD_LD_PATH:$ROOT/usr/lib64"
CHARD_LD_PATH="$CHARD_LD_PATH:$ROOT/lib"

if [ -z "${LD_LIBRARY_PATH:-}" ]; then
    export LD_LIBRARY_PATH="$CHARD_LD_PATH"
else
    case ":$LD_LIBRARY_PATH:" in
        *":$CHARD_LD_PATH:"*) : ;;
        *) export LD_LIBRARY_PATH="$CHARD_LD_PATH:$LD_LIBRARY_PATH" ;;
    esac
fi

export CC="$CHARD_ROOT/usr/musl/bin/musl-gcc"
export CXX="$CHARD_ROOT/usr/musl/bin/musl-g++"
export AR="$CHARD_ROOT/usr/musl/bin/ar"
export LD="$CHARD_ROOT/usr/musl/bin/ld"
export RANLIB="$CHARD_ROOT/usr/musl/bin/ranlib"
export STRIP="$CHARD_ROOT/usr/musl/bin/strip"

export EMERGE_DEFAULT_OPTS="--quiet-build=y --jobs=$(nproc)"
