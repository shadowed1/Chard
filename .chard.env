# Chard environment configuration

ARCH=$(uname -m)
case "$ARCH" in
    x86_64) CHOST=x86_64-pc-linux-gnu ;;
    aarch64) CHOST=aarch64-unknown-linux-gnu ;;
    *) echo "Unknown architecture: $ARCH"; exit 1 ;;
esac

export CHARD_ROOT="/usr/local/chard"
export CHARD_RC="$CHARD_ROOT/.chardrc"
export PORTDIR="$CHARD_ROOT/usr/portage"
export DISTDIR="$CHARD_ROOT/var/cache/distfiles"
export PKGDIR="$CHARD_ROOT/var/cache/packages"
export PORTAGE_TMPDIR="$CHARD_ROOT/var/tmp"
export USE="python_targets_python3_13"
export FEATURES="${FEATURES:-}$(echo "$FEATURES" | tr ' ' '\n' | grep -v '^sandbox$' | tr '\n' ' ')"
export SANDBOX="$CHARD_ROOT/usr/bin/sandbox"
export PERL5LIB=/usr/local/chard/lib/perl5/5.40.0:$PERL5LIB
export PATH="$PATH:$CHARD_ROOT/usr/bin:$CHARD_ROOT/bin:$CHARD_ROOT/usr/$CHOST/gcc-bin/14"
export LD_LIBRARY_PATH="${LD_LIBRARY_PATH:-}:$CHARD_ROOT/usr/lib:$CHARD_ROOT/lib:$CHARD_ROOT/usr/$CHOST/gcc-bin/14"
export MAGIC="$CHARD_ROOT/usr/share/misc/magic.mgc"
export PYTHON_TARGETS="python3_13"
export PYTHON_SINGLE_TARGET="python3_13"
export PYTHONPATH="$CHARD_ROOT/usr/lib/python3.13/site-packages:$PYTHONPATH"
export CC="$CHARD_ROOT/usr/$CHOST/gcc-bin/14/$CHOST-gcc"
export CXX="$CHARD_ROOT/usr/$CHOST/gcc-bin/14/$CHOST-g++"
export AR="$CHARD_ROOT/usr/$CHOST/gcc-bin/14/gcc-ar"
export NM="$CHARD_ROOT/usr/$CHOST/gcc-bin/14/gcc-nm"
export RANLIB="$CHARD_ROOT/usr/$CHOST/gcc-bin/14/$CHOST-gcc-ranlib"
export STRIP="$CHARD_ROOT/usr/$CHOST/binutils-bin/2.44/strip"
export EMERGE_DEFAULT_OPTS="--quiet-build=y --jobs=$(nproc)"

# <<< END CHARD_ENV >>>
